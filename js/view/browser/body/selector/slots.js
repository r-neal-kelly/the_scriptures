import*as Entity from"../../../entity.js";import*as Slot from"./slot.js";export class Instance extends Entity.Instance{constructor({model:e,selector:t}){super({element:"div",parent:t,event_grid:t.Event_Grid()}),this.model=e,this.Live()}On_Refresh(){const e=this.Model();if(e.Selector().Body().Browser().Commander().Selector().Is_Activated()){const t=e.Count(),s=this.Child_Count(),o=t-s;if(o<0)for(let e=s,t=s+o;e>t;)e-=1,this.Abort_Child(this.Child(e));else if(o>0)for(let e=s,t=s+o;e<t;e+=1)new Slot.Instance({model:()=>this.Model().At(e),slots:this})}else this.Skip_Children()}On_Reclass(){const e=this.Model(),t=[];return t.push("Slots"),e.Selector().Body().Browser().Commander().Selector().Is_Deactivated()&&t.push("Hidden"),t}Model(){return this.model()}Selector(){return this.Parent()}}