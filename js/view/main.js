import*as Utils from"../utils.js";import*as Event from"../event.js";import*as Fonts_Model from"../model/fonts.js";import*as Entity from"./entity.js";import*as Layout from"./layout.js";export class Instance extends Entity.Instance{constructor({model:t}){super({element:document.body,parent:null,event_grid:new Event.Grid}),this.model=t,this.Live()}On_Life(){return Utils.Create_Style_Element(Fonts_Model.Singleton().CSS_Definitions()),this.Add_CSS("\n                * {\n                    box-sizing: border-box;\n                    margin: 0;\n                    padding: 0;\n                }\n\n                *:focus {\n                    outline: 0;\n                }\n            "),this.Add_This_CSS("\n                .Body {\n                    position: relative;\n                    \n                    width: 100vw;\n                    height: 100vh;\n\n                    background-color: black;\n\n                    font-family: sans-serif;\n                    font-size: 16px;\n                }\n            "),this.Window().addEventListener("beforeunload",function(t){this.Die()}.bind(this)),[]}On_Refresh(){this.Has_Layout()||(this.Abort_All_Children(),new Layout.Instance({model:()=>this.Model().Layout(),root:this}))}On_Reclass(){return["Body"]}Model(){return this.model}Window(){return window}Document(){return document}Has_Layout(){return this.Has_Child(0)&&this.Child(0)instanceof Layout.Instance}Layout(){return 0,this.Child(0)}}