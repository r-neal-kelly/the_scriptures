import*as Utils from"../../../../../utils.js";import*as Entity from"../../../../entity.js";import*as Root from"./branch.js";export class Instance extends Entity.Instance{constructor({results:t,model:e}){super({element:"div",parent:t,event_grid:t.Event_Grid()}),this.model=e,this.Live()}On_Life(){return[]}On_Refresh(){this.Has_Root()||(this.Abort_All_Children(),new Root.Instance({parent:this,model:()=>this.Model().Root()}))}On_Reclass(){return["Tree"]}Model(){return this.model()}Results(){return this.Parent()}Has_Root(){return this.Has_Child(0)&&this.Child(0)instanceof Root.Instance}Root(){return Utils.Assert(this.Has_Root(),"Does not have Root."),this.Child(0)}}