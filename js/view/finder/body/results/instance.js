import*as Utils from"../../../../utils.js";import*as Entity from"../../../entity.js";import*as Buffer from"../../../buffer/search.js";import*as Tree from"./tree.js";export class Instance extends Entity.Instance{constructor({body:e,model:t}){super({element:"div",parent:e,event_grid:e.Event_Grid()}),this.model=t,this.Live()}On_Life(){return[]}On_Refresh(){this.Has_Tree()&&this.Has_Buffer()||(this.Abort_All_Children(),new Tree.Instance({results:this,model:()=>this.Model().Tree()}),new Buffer.Instance({parent:this,model:()=>this.Model().Buffer(),event_grid_id:()=>this.Body().Finder().ID()}))}On_Reclass(){return["Results"]}Model(){return this.model()}Body(){return this.Parent()}Has_Tree(){return this.Has_Child(0)&&this.Child(0)instanceof Tree.Instance}Tree(){return Utils.Assert(this.Has_Tree(),"Does not have Tree."),this.Child(0)}Has_Buffer(){return this.Has_Child(1)&&this.Child(1)instanceof Buffer.Instance}Buffer(){return Utils.Assert(this.Has_Buffer(),"Does not have Buffer."),this.Child(1)}}