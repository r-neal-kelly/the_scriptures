var __awaiter=this&&this.__awaiter||function(e,n,t,s){return new(t||(t=Promise))((function(i,r){function o(e){try{_(s.next(e))}catch(e){r(e)}}function a(e){try{_(s.throw(e))}catch(e){r(e)}}function _(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}_((s=s.apply(e,n||[])).next())}))};import*as Event from"../../../../event.js";import*as Events from"../../../events.js";import*as Entity from"../../../entity.js";export class Instance extends Entity.Instance{constructor({expression:e,model:n}){super({element:"div",parent:e,event_grid:e.Event_Grid()}),this.model=n,this.Live()}On_Life(){return[new Event.Listener_Info({event_name:new Event.Name(Event.Prefix.ON,Events.FINDER_BODY_EXPRESSION_CHANGE,this.Expression().Body().Finder().ID()),event_handler:this.On_Finder_Body_Expression_Change,event_priority:0})]}On_Refresh(){const e=this.Model();e.Has_Help()?this.Element().textContent=e.Help().Message():this.Element().textContent=null}On_Reclass(){const e=this.Model(),n=[];return n.push("Expression_Help"),e.Has_Help()||n.push("Invisible"),n}On_Finder_Body_Expression_Change(){return __awaiter(this,void 0,void 0,(function*(){this.Model().Set_Help(null),this.Refresh()}))}Model(){return this.model()}Expression(){return this.Parent()}}