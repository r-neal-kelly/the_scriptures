import*as Utils from"../../../../utils.js";import*as Entity from"../../../entity.js";import*as Placeholder from"./placeholder.js";import*as Input from"./input.js";import*as Help from"./help.js";export class Instance extends Entity.Instance{constructor({body:e,model:s}){super({element:"div",parent:e,event_grid:e.Event_Grid()}),this.model=s,this.Live()}On_Refresh(){this.Has_Placeholder()&&this.Has_Input()&&this.Has_Help()||(this.Abort_All_Children(),new Placeholder.Instance({expression:this,model:()=>this.Model()}),new Input.Instance({expression:this,model:()=>this.Model()}),new Help.Instance({expression:this,model:()=>this.Model()}))}On_Reclass(){return["Expression"]}Model(){return this.model()}Body(){return this.Parent()}Has_Placeholder(){return this.Has_Child(0)&&this.Child(0)instanceof Placeholder.Instance}Placeholder(){return Utils.Assert(this.Has_Placeholder(),"Does not have Placeholder."),this.Child(0)}Has_Input(){return this.Has_Child(1)&&this.Child(1)instanceof Input.Instance}Input(){return Utils.Assert(this.Has_Input(),"Does not have Input."),this.Child(1)}Has_Help(){return this.Has_Child(2)&&this.Child(2)instanceof Help.Instance}Help(){return Utils.Assert(this.Has_Help(),"Does not have Help."),this.Child(2)}}