import*as Text_Base from"../text_base.js";import*as Division from"./division.js";export class Instance extends Text_Base.Item.Instance{constructor({segment:i,model:s}){super({segment:i,model:s}),this.Live()}On_Refresh(){const i=this.Model(),s=this.Child_Count();if(s>0&&i.Is_Blank())this.Skip_Children(),this.Element().classList.contains("Blank")&&this.Skip_Remaining_Siblings();else{const t=Math.max(i.Min_Division_Buffer_Count(),i.Division_Count()),e=Math.max(i.Max_Division_Buffer_Count(),i.Division_Count());if(s<t)for(let i=s,e=t;i<e;i+=1)new Division.Instance({item:this,model:()=>this.Model().Division_At(i)});else if(s>e)for(let i=s,t=e;i>t;)i-=1,this.Abort_Child(this.Child(i))}}}