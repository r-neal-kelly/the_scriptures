import*as Model_Languages from"../../../model/languages.js";import*as Text_Base from"../text_base.js";import*as Division from"./division.js";export class Instance extends Text_Base.Item.Instance{constructor({segment:i,model:e}){super({segment:i,model:e}),this.Live()}On_Refresh(){const i=this.Model(),e=this.Child_Count();if(e>0&&i.Is_Blank())this.Skip_Children(),this.Element().classList.contains("Blank")&&this.Skip_Remaining_Siblings();else{const s=Math.max(i.Min_Division_Buffer_Count(),i.Division_Count()),t=Math.max(i.Max_Division_Buffer_Count(),i.Division_Count());if(e<s)for(let i=e,t=s;i<t;i+=1)new Division.Instance({item:this,model:()=>this.Model().Division_At(i)});else if(e>t)for(let i=e,s=t;i>s;)i-=1,this.Abort_Child(this.Child(i))}}On_Restyle(){const i=this.Model();if(i.Is_Blank())return"";{const e=i.Override_Language_Name();return e?Model_Languages.Singleton().Default_Global_Font_Styles(e,i.Script_Position()):""}}}