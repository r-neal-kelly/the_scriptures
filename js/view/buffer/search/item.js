import*as Model from"../../../model/buffer/search/item.js";import*as Model_Languages from"../../../model/languages.js";import*as Entity from"../../entity.js";import*as Division from"./division.js";export class Instance extends Entity.Instance{constructor({segment:e,model:s}){super({element:"div",parent:e,event_grid:e.Event_Grid()}),this.model=s,this.Live()}On_Refresh(){const e=this.Model();if(e.Is_Blank())this.Skip_Children(),this.Element().classList.contains("Blank")&&this.Skip_Remaining_Siblings();else{const s=Math.max(Model.Instance.Min_Division_Count(),e.Division_Count());for(let e=this.Child_Count(),t=s;e<t;e+=1)new Division.Instance({item:this,model:()=>this.Model().Division_At(e)})}}On_Reclass(){const e=this.Model(),s=[];return s.push("Item"),e.Is_Blank()?s.push("Blank"):(e.Is_Indented()&&s.push("Indented_Item"),e.Has_Italic_Style()&&s.push("Italic"),e.Has_Bold_Style()&&s.push("Bold"),e.Has_Underline_Style()&&s.push("Underline"),e.Has_Small_Caps_Style()&&s.push("Small_Caps"),(e.Is_Error()||e.Has_Error_Style())&&s.push("Error")),s}On_Restyle(){const e=this.Model();if(e.Is_Blank())return"";{const s=e.Language();return s?Model_Languages.Styles(s):""}}Model(){return this.model()}Segment(){return this.Parent()}Event_Grid_ID(){return this.Segment().Event_Grid_ID()}}