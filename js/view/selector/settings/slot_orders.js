import*as Entity from"../../entity.js";import*as Slot_Order from"./slot_order.js";export class Instance extends Entity.Instance{constructor({settings:t,model:e}){super({element:"div",parent:t,event_grid:t.Event_Grid()}),this.model=e,this.Live()}On_Refresh(){if(this.Is_Visible()){const t=this.Model().Slot_Order_Count(),e=this.Child_Count(),s=t-e;if(s<0)for(let t=e,i=e+s;t>i;)t-=1,this.Abort_Child(this.Child(t));else if(s>0)for(let t=e,i=e+s;t<i;t+=1)new Slot_Order.Instance({slot_orders:this,model:()=>this.Model().Slot_Order(t)})}else this.Skip_Children()}On_Reclass(){const t=[];return t.push("Slot_Orders"),this.Is_Visible()||t.push("Invisible"),t}Model(){return this.model()}Settings(){return this.Parent()}Is_Visible(){return this.Settings().Is_Visible()&&this.Model().Is_Toggled()}}