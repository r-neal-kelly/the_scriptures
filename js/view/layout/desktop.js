import*as Utils from"../../utils.js";import*as Entity from"../entity.js";import*as Wall from"./wall.js";import*as Menu from"./menu.js";export class Instance extends Entity.Instance{constructor({model:n,layout:e}){super({element:"div",parent:e,event_grid:e.Event_Grid()}),this.model=n,this.Live()}On_Life(){return this.Add_This_CSS("\n                .Desktop {\n                    position: relative;\n\n                    width: 100%;\n                    height: 100%;\n\n                    overflow-x: hidden;\n                    overflow-y: hidden;\n                    \n                    background-position: center;\n                    background-origin: border-box;\n                    background-repeat: no-repeat;\n                }\n\n                @media (orientation: landscape) {\n                    .Desktop {\n                        background-size: 100% auto;\n                    }\n                }\n\n                @media (orientation: portrait) {\n                    .Desktop {\n                        background-size: auto 100%;\n                    }\n                }\n            "),this.Add_Children_CSS("\n                .Wall {\n                    display: grid;\n                    \n                    width: 100%;\n                    height: 100%;\n                    padding: 0 2px;\n\n                    overflow-x: hidden;\n                    overflow-y: hidden;\n                }\n\n                .Window {\n                    display: grid;\n                    grid-template-rows: auto 1fr;\n                    grid-template-columns: auto;\n\n                    width: 100%;\n                    height: 100%;\n\n                    overflow-x: auto;\n                    overflow-y: auto;\n\n                    border-color: white;\n                    border-style: solid;\n                    border-width: 1px;\n\n                    background-color: hsl(0, 0%, 0%, 0.93);\n                }\n\n                .Minimized_Window {\n                    display: none;\n                }\n\n                .Maximized_Window {\n                    \n                }\n\n                .Menu {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    z-index: 100;\n\n                    height: 100%;\n                    padding: 0.5em 0;\n\n                    background-color: hsl(0, 0%, 0%, 0.7);\n\n                    border-color: white;\n                    border-style: solid;\n                    border-width: 1px;\n\n                    overflow-y: auto;\n                }\n\n                .Open_Menu {\n\n                }\n\n                .Closed_Menu {\n                    display: none;\n                }\n\n                .Open_Browser,\n                .Open_Finder {\n                    width: 100%;\n\n                    margin-bottom: 7px;\n                    padding: 5px;\n\n                    background-color: hsl(0, 0%, 0%, 0.7);\n\n                    border-color: white;\n                    border-style: solid;\n                    border-width: 1px 0;\n\n                    cursor: pointer;\n                    -webkit-user-select: none;\n                    -moz-user-select: none;\n                    -ms-user-select: none;\n                    user-select: none;\n                }\n            "),[]}On_Refresh(){this.Has_Wall()&&this.Has_Menu()||(this.Abort_All_Children(),new Wall.Instance({model:()=>this.Model().Wall(),desktop:this}),new Menu.Instance({model:()=>this.Model().Menu(),desktop:this}))}On_Reclass(){return["Desktop"]}On_Restyle(){return"\n            background-image: url(img/background/pexels-ksenia-chernaya-3952071.jpg);\n            background-image: url(img/background/pexels-juan-pablo-serrano-arenas-877971.jpg);\n        "}Model(){return this.model()}Layout(){return this.Parent()}Has_Wall(){return this.Has_Child(0)&&this.Child(0)instanceof Wall.Instance}Wall(){return 0,this.Child(0)}Has_Menu(){return this.Has_Child(1)&&this.Child(1)instanceof Menu.Instance}Menu(){return 0,this.Child(1)}}