import*as Utils from"../../utils.js";import*as Space from"./space.js";export class Instance{constructor({language_name:e,subset_name:t,is_language_default:a,combos_or_space:s}){this.language_name=e,this.subset_name=t,this.is_language_default=a,this.top_space=s instanceof Space.Instance?s:new Space.Instance(s),this.current_space=this.top_space}Language_Name(){return this.language_name}Subset_Name(){return this.subset_name}Full_Name(){return null!=this.subset_name?`${this.Language_Name()} - ${this.Subset_Name()}`:this.Language_Name()}Is_Language_Default(){return this.is_language_default}Top_Space(){return this.top_space}Current_Space(){return this.current_space}Set_Current_Space(e){this.current_space=e}Reset_Current_Space(){this.Set_Current_Space(this.Top_Space())}Maybe_Space(e,t,a){const s=this.Current_Space().Maybe_Space(e);if(Utils.Is.Boolean(s))return s;{const e=s,n=e[0],u=e[1];return t&&a?null!=n&&(this.Set_Current_Space(n),n):t||a?null!=u&&(this.Set_Current_Space(u),u):null!=n&&(this.Set_Current_Space(n),n)}}Maybe_Output(e,t,a){const s=this.Current_Space().Maybe_Output(e);if(Utils.Is.Boolean(s))return s||this.Reset_Current_Space(),s;{const e=s,n=e[0],u=e[1];return this.Reset_Current_Space(),t&&a?null!=n&&n:t||a?null!=u&&u:null!=n&&n}}}