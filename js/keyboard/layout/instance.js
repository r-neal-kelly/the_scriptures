import*as Utils from"../../utils.js";import*as Space from"./space.js";export class Instance{constructor({name:e,combos:t}){this.name=e,this.top_space=new Space.Instance(t),this.current_space=this.top_space}Name(){return this.name}Top_Space(){return this.top_space}Current_Space(){return this.current_space}Set_Current_Space(e){this.current_space=e}Reset_Current_Space(){this.Set_Current_Space(this.Top_Space())}Maybe_Space(e){const t=this.Current_Space().Maybe_Space(e);return t instanceof Space.Instance&&this.Set_Current_Space(t),t}Maybe_Output(e,t,s){const r=this.Current_Space().Maybe_Output(e);if(Utils.Is.Boolean(r))return r||this.Reset_Current_Space(),r;{const e=r,a=e[0],n=e[1];return this.Reset_Current_Space(),t&&s?null!=a&&a:t||s?null!=n&&n:null!=a&&a}}}