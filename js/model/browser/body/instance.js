var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};import*as Entity from"../../entity.js";import*as Selector from"../../selector.js";import*as Reader from"./reader.js";export class Instance extends Entity.Instance{constructor({browser:e,selection:t=null,selector_slot_order:r}){super(),this.browser=e,this.selector=new Selector.Instance({slot_order:r,selection:t,does_smart_item_selection:!0}),this.reader=new Reader.Instance({body:this}),this.Add_Dependencies([this.selector,this.reader])}Browser(){return this.browser}Selector(){return this.selector}Reader(){return this.reader}After_Dependencies_Are_Ready(){return __awaiter(this,void 0,void 0,(function*(){yield this.Reader().Refresh_File()}))}}