var __awaiter=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,a){function i(t){try{o(s.next(t))}catch(t){a(t)}}function c(t){try{o(s.throw(t))}catch(t){a(t)}}function o(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}o((s=s.apply(t,e||[])).next())}))};import*as Entity from"../../../../entity.js";import*as Branch from"./branch.js";export class Instance extends Entity.Instance{constructor({results:t,data:e}){super(),this.results=t,this.root=new Branch.Instance({parent:this,name:"",data:e}),this.selected=[]}Results(){return this.results}Root(){return this.root}Is_Selected(t){return this.selected.includes(t)}Select(t){return __awaiter(this,void 0,void 0,(function*(){this.selected=[t];let e=t.Parent();for(;e instanceof Branch.Instance;)this.selected.push(e),e=e.Parent();this.Results().Set_Buffer(t.Default_Language(),yield t.File().Text(),t.Results())}))}}