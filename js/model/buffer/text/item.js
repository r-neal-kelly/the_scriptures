import*as Utils from"../../../utils.js";import*as Language from"../../language.js";import*as Languages from"../../languages.js";import*as Entity from"../../entity.js";export class Instance extends Entity.Instance{constructor({segment:e,index:t,text:s}){super(),this.segment=e,this.index=t,this.text=s,null==s?(0,0,this.value=""):(0,0,s.Has_Image_Value()?this.value=s.Image_Value():s.Has_Meta_Value()?this.value="":(this.value=s.Value().replace(/^ /," ").replace(/ $/," ").replace(/  /g,"  "),this.value=Languages.Singleton().Adapt_Text_To_Font({language_name:this.Language_Name(),font_name:this.Font_Name(),text:this.value}))),this.Add_Dependencies([])}Segment(){return 0,this.segment}Index(){return 0,this.index}Text(){return 0,this.text}Value(){return this.value}Part(){0;const e=this.Text();return e.Is_Part()?e:e.Break()}Is_Blank(){return null==this.text}Has_Image_Value(){return!this.Is_Blank()&&this.Text().Has_Image_Value()}Is_Image_Value_Inline(){return this.Has_Image_Value()&&this.Text().Is_Image_Value_Inline()}Has_Inline_Image_Styles(){return this.Is_Image_Value_Inline()}Some_Inline_Image_Styles(){let e;return 0,e=this.Has_Override_Font_Styles()?this.Some_Override_Font_Styles()["font-size"]:this.Segment().Row().Column().Line().Buffer().Default_Font_Styles()["font-size"],{height:e}}Is_Indented(){0;const e=this.Part();return e.Is_Command()&&e.Is_Indent()}Is_Error(){return this.Part().Is_Error()}Has_Italic_Style(){return this.Part().Has_Italic_Style()}Has_Bold_Style(){return this.Part().Has_Bold_Style()}Has_Underline_Style(){return this.Part().Has_Underline_Style()}Has_Small_Caps_Style(){return this.Part().Has_Small_Caps_Style()}Has_Error_Style(){return this.Part().Has_Error_Style()}Has_Argument_Style(){return this.Part().Has_Argument_Style()}Has_Override_Language_Name(){return null!=this.Part().Language()}Override_Language_Name(){return this.Part().Language()}Some_Override_Language_Name(){return 0,this.Part().Language()}Language_Name(){const e=this.Override_Language_Name();return null!=e?e:this.Segment().Row().Column().Line().Buffer().Default_Language_Name()}Override_Font_Name(){const e=this.Override_Language_Name();return null!=e?this.Segment().Row().Column().Line().Buffer().Language_Font_Name(e):null}Font_Name(){const e=this.Override_Font_Name();return null!=e?e:this.Segment().Row().Column().Line().Buffer().Default_Font_Name()}Has_Override_Font_Styles(){return this.Has_Override_Language_Name()}Some_Override_Font_Styles(){return 0,this.Segment().Row().Column().Line().Buffer().Override_Font_Styles(this.Some_Override_Language_Name())}Is_Greek(){return this.Language_Name()===Language.Name.GREEK}}