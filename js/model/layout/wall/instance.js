var __awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{a(n.next(t))}catch(t){r(t)}}function d(t){try{a(n.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,d)}a((n=n.apply(t,e||[])).next())}))};import*as Utils from"../../../utils.js";import*as Entity from"../../entity.js";import*as Window from"../window.js";import{Render_Type}from"./render_type.js";export class Instance extends Entity.Instance{constructor({layout:t,render_type:e=Render_Type.LANDSCAPE,render_limit:i=Instance.DEFAULT_RENDER_LIMIT}){super(),this.layout=t,this.render_type=e,this.render_limit=Instance.DEFAULT_RENDER_LIMIT,this.windows=[],this.Set_Render_Limit(i),this.Add_Dependencies([])}Layout(){return this.layout}Render_Type(){return this.render_type}Set_Render_Type(t){this.render_type=t}Render_Limit(){return this.render_limit}Set_Render_Limit(t){0,this.render_limit=t}Window_Count(){return this.windows.length}Maximized_Window_Count(){let t=0;for(const e of this.windows)e.Is_Maximized()&&(t+=1);return t}Has_Window(t){return 0,this.windows.indexOf(t)>-1}Has_Window_At(t){return t>-1&&t<this.Window_Count()}Window_At(t){return 0,this.windows[t]}Windows(){return Array.from(this.windows)}Add_Program(t){return __awaiter(this,void 0,void 0,(function*(){const e=new Window.Instance({wall:this,program:t});return yield e.Ready(),e}))}__Add_Window__(t){0,0,0,this.windows.push(t),this.Layout().Bar().Tabs().Add_Tab(t)}__Remove_Window__(t){0,0;const e=this.windows.indexOf(t);0,this.Layout().Bar().Tabs().Remove_Tab(e),this.windows.splice(e,1)}}Instance.DEFAULT_RENDER_LIMIT=2;