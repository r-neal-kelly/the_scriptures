var __awaiter=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(n,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function _(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,_)}l((o=o.apply(e,t||[])).next())}))};import*as Unicode from"../unicode.js";import*as File_System from"./file_system.js";const ASSERT_REGEX=/^Utils\.Assert\(/;function Remove_Asserts_From_Text(e){let t=[],i=new Unicode.Iterator({text:e});for(;!i.Is_At_End();)if(ASSERT_REGEX.test(i.Points()||"")){let e=t[t.length-1];for(","===e&&t.pop();"("!==i.Point();)i=i.Next();i=i.Next();let o=1,n=null;for(;o>0;){const e=i.Point();null!=n?e===n&&"\\"!==(i.Look_Backward_Point()||"")&&(n=null):"`"===e||'"'===e||"'"===e?n=e:"("===e?o+=1:")"===e&&(o-=1),i=i.Next()}const s=i.Point();")"===e&&","!==s&&";"!==s?t.push(";"):" "===e&&","!==s&&";"!==s?")"===s?t.push("0"):t.push(";"):":"===e?t.push("0"):","!==e&&","===s&&(t.push(" "),i=i.Next())}else t.push(i.Point()),i=i.Next();return t.join("")}function Remove_Asserts_From_File(e){return __awaiter(this,void 0,void 0,(function*(){yield File_System.Write_File(e,Remove_Asserts_From_Text(yield File_System.Read_File(e)))}))}function Remove_Asserts(){return __awaiter(this,void 0,void 0,(function*(){const e=yield File_System.Read_Folder_File_Paths_Recursively("./js"),t=[];for(const i of e)t.push(Remove_Asserts_From_File(i));yield Promise.all(t)}))}!function(){__awaiter(this,void 0,void 0,(function*(){yield Remove_Asserts()}))}();